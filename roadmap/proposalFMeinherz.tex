\documentclass[11pt, UKenglish]{report}
\usepackage[a4paper]{geometry}
\usepackage{lmodern}
\renewcommand*\familydefault{\sfdefault}
\usepackage[T1]{fontenc}
\usepackage[UKenglish]{babel}
\usepackage[utf8]{inputenc}
\usepackage{hyperref}
\usepackage{pdfcomment}
\usepackage{tabularx,ragged2e,booktabs}
\newcolumntype{L}{>{\RaggedRight\arraybackslash}X}
\usepackage{caption}

\newcommand{\HRule}[1]{\rule{\linewidth}{#1}}

\begin{document}

%-------------------------------------------------------------------------------
% TITLE
%-------------------------------------------------------------------------------

\noindent \large Math-710 Data analysis for science and engineering

\noindent Spring 2017

\vspace{0.5cm}
\noindent \LARGE \textbf{Proposal for the final project}

\normalsize
\vspace{1cm}
\noindent Submitted by \large{Franziska Meinherz}

\vspace{0.5cm}


%-------------------------------------------------------------------------------
% PROPOSAL
%-------------------------------------------------------------------------------

% PRÉAMBULE
%-------------------------------------------------------------------------------

\noindent \HRule{0.5pt} \\
\large{\textit{\textbf{Preliminary note:}}

\normalsize

\noindent \textit{Due to a slight reorientation in my PhD (I am still in the 1\textsuperscript{st} year), I am now at a point where I need to do a lot of conceptual work. I do not currently have research questions requiring statistical analysis. Those will emerge out of the conceptual work in which I am currently engaged. Therefore, for this semester project, I would like to work on a very pressing problem from an association of which I am part (\href{http://octanis.org/rover/} {Octanis Association - Rover project}). I am confident that applying the methods and concepts which we have learnt in class to this problem will enhance my practical understanding of them such that I can then easily apply them to my PhD, once I am more advanced in it.}

\noindent \HRule{0.5pt}

% PROBLEM
%-------------------------------------------------------------------------------

\section*{Research problem}

\subsection*{Problem context}

Octanis Association has built a test rover which can perform data gathering tasks in difficult terrain, and which can be built with basic and low-cost components and runs with open source software. At the moment, the test rover has the sensors required for gathering data on the structure of the snow cover of any given area, and has been sent on a mission  to Antarctica undertaken by researchers from the University of Grenoble. The rover is powered by solar cells which are mounted on its top and has a battery to store energy. The data which it gathers is stored on an SD card which is built into the rover. The rover both gathers data regarding its task - in this case, the structure of the snow cover - and on its own performance.

The rover will be back from its current mission towards the end of May. As a follow-up to this mission, the current rover will be improved, in order to enhance its usefulness for similar missions. One key challenge is to enhance the time during which the rover can be active, by optimising the process of charging and discharging the battery.

\subsection*{Problem statement}

The aim of this research project is to use the data which the rover has gathered on its battery and battery charging / discharging status, as well as on its context, to develop an optimising procedure for when the rover should rest and charge its batteries, and for when it should be active and use energy, in order to maximise its operation time. The project thus needs to address the following points:

\begin{enumerate}

	\item{\large{Data extraction and cleaning:} \normalsize The data collected by the rover is stored in ROS \texttt{.bag} files, is ordered by different topics, and can be accessed through command line tools which are comprised in the ROS package (see additional details under "Data"). The data thus has to be extracted into \texttt{.csv} files and organised and structured in a way that facilitates its manipulation with R and which corresponds to the purposes of this semester project.}

	\item{\large{Data exploration:} \normalsize Since the current rover is a pilot project, it seems appropriate to develop tools to visualise the data in ways which allow to identify potential measuring or storing errors, and which additionally provide an overall picture of the rover's functioning, in order to develop first hypotheses as to how its operation time could be enhanced.}

<<<<<<< HEAD
	\item{\large{Statistical model:} \normalsize Based on the weather and the rover's activity, and consequently the battery charging and uncharging rate, the probability that the expected battery lifetime corresponds to a specific value has to be calculated, as well as the likely development of these probabilities depending on adjustments made to the rover's acceleration pattern. }
=======
	\item{\large{Data analysis:} \normalsize Data on the rover's battery charge status and battery charging / discharging has to be compared to data on the current UV index /sam{luminosity and solar panel voltage (which varies in function of how bright it is, angle of light rays) more appropriated, not uv index}  and other indicators for battery charging potential, on wind intensity and direction\pdfcomment[icon=Note]{wind data is not collected, but could be downloaded from online weather platforms if really desired} in comparison to the rover's direction of movement, outside temperature, and the rover's speed, in order to find to an optimising strategy for the conditions under which the rover should rest and charge its battery, and for when it should move and use energy.}
>>>>>>> 66abcbcfc946957ce79cc0d5f049d967e6526ae8

\end{enumerate}

% DATA
%-------------------------------------------------------------------------------

\section*{Data}

<<<<<<< HEAD
Since the arrival time of the rover and the data it has gathered during its mission is scheduled only for the end of May, for this project, data from test runs undertaken in Renens will be used. The data structure is exactly the same between the data gathered during the test runs in Renens and the actual mission in Antarctica. Therefore, it should not matter which is used as an input to the data analysis script which is to be developed in the course of this project, with the exeption that cuation should be exerted regarding the formulation of conclusions based on the test runs, since the terrain on which the rover was active during the test runs is very different from the one that it encountered in Antarctica and for which it should be designed to perform best on. 

\subsection*{Data format and structure}

The data is stored in \texttt{.bag} files. This file structure has been developed as part of the ROS (Robot Operating System) environment to store data collected by any robot as soon as it is received. The data is thus organised along a timeline. In this process, the data is organised in different topics, which each can store different variables. The data can be accessed through different command line tools which are available in the ROS package and can be played back as text in the command window. The data is accessed by topic. The ROS package also provides some tools to visualise the played back data.

\subsection*{Variables}

For this project, three kinds of variables will be considered: Variables which describe the rover's battery status, variables which describe the rover's activity, and variables on the weather situation. 

\begin{table}[h]
\centering\captionsetup{font=footnotesize}	
\caption{Variables available for each category}
\label{tabdimension}
\begin{tabularx}{0.85\textwidth}{@{} l l | l l | l l @{}}
 \toprule
 Rover battery & Type & Rover activity & Type & Weather & Type \\  
 \midrule
 Battery charging & Cont. & Position & Cont. & Air pressure & Cont. \\ 
 Battery uncharging & Cont. & Acceleration & Cont. & Temperature & Cont. \\
 Battery remaining & Cont. & Magnetometer & Cont. & Humidity & Cont. \\
 Solar panel voltage & Cont. & Gyroscope & Cont. & UV index & Cont. \\
 Est. solar power & Cont. & & & Lux & Cont. \\ 
 \bottomrule
\end{tabularx}
\end{table}
=======
Since the arrival time of the rover and the data it has gathered during its mission is scheduled only for the end of May, for this project, data from test runs undertaken in Renens will be used. The data structure is exactly the same between the data gathered during the test runs in Renens and the actual mission in Antarctica. Therefore, it should not matter which is used as an input to the data analysis script which is to be developed in the course of this project, with the exeption that no pertinent conclusions can be drawn from the test runs, since the setting was artificial and the sample size - in this case the amount of time which the rover spent in activity - is too small /sam: {not necessarily true. the amount of time spent collecting data has less impact than the terrain the data is collected on. we will not have significantly more hours of data from the real mission, so no emphasis on this should be given here}.

\subsection*{Data format and structure}

The data is stored in .bag files. This file structure has been developed as part of the ROS (Robot Operating System) environment to store data collected by any robot as soon as it is received. The data is thus organised along a timeline which corresponds to the robot's internal clock (although this can be overridden with a simulated clock)\pdfcomment[icon=Note]{has this been done? /sam: {data is timestamped arbitrarily and it doesn't matter to your analysis if there is an offset}}. In this process, the data is organised in different topics, which each can store different variables. The data can be accessed through different command line tools which are available in the ROS package and can be played back as text in the command window. The data is accessed by topic. The ROS package also provides some tools to visualise the played back data.

\subsection*{Variables}\pdfcomment[icon=Note]{not even sure this is needed at this stage but is good for us to know anyways so we can clarify it even if in the end I don't include it in the proposal}

For this project, two kinds of variables will be considered: On the one hand, variables which relate to the rover's functioning, such as its battery status, its battery charging / discharging status, its speed, its energy use per achieved motion, and its direction, and on the other hand, variables which describe the rover's surroundings and the situational context, such as variables describing the available solar power, variables on wind intensity and direction\pdfcomment[icon=Note]{same as above - do we have this data? - sam: no wind}, information on the structure of the terrain - both on the macro level (elevation and inclination) and the micro level (snow cover structure), and the current air pressure.\pdfcomment[icon=Note]{does this list remotely correspond to what is available? btw I seem to remember that you showed me a list of the variables somehow - can you print screen this thing or send it or whatever? }

/sam:  data available is. i would leave out the laser scanner data (snow cover structure data) as this is a very advanced form of data to look at and is a project on its own. extract of "easy" available data is below:

- ENERGY
	- BATTERY_STATUS
		- Current in (current going into battery from solar -> charging)
		- Current out (current going into rover system)
		- battery_remaining in percent (voltage_battery)
		- solar panel voltage (voltage measured at the solar panels (how much "sun" do we have right now?))
		- est. solar power
-WEATHER
		 - air pressure
		 - temperature
		 - humidity
		- UV INDEX
		- Lux
- POSE
	- latitude, longitude
	- acceleration x y z
	- magnetometer x y z
	- gyroscope x y z

dashboard here:<
http://octanis.org/constellation/



>>>>>>> 66abcbcfc946957ce79cc0d5f049d967e6526ae8

% METHODS
%-------------------------------------------------------------------------------

\section*{Methods}

<<<<<<< HEAD
\subsection*{Data extraction and cleaning}
=======
\subsection*{Data extraction and formatting}

\begin{enumerate}

	\item{\large{Data extraction:} \normalsize böh? \pdfcomment[icon=Note]{teach me!!}}

	\item{\large{Data structuring:} \normalsize  The .csv files obtained in the previous step are to be organised in such a way that the data is accessible in ways which makes sense given the steps which are to be performed in the data analysis part. As the project advances, the decisions regarding the formatting of the data are thus revisited in an iterative process.}
>>>>>>> 66abcbcfc946957ce79cc0d5f049d967e6526ae8

The aim of this step is to make the data usable for the following analysis. 

\begin{enumerate}

	\item{\large{Data extraction:} \normalsize The data has to be extracted from the \texttt{.bag} files to \texttt{.csv} files. This is done by using the command line tools provided by the ROS package to run the \texttt{.bag} file and then extract the produced data streams into \texttt{.csv} files.} 

	\item{\large{Data structuring:} \normalsize The \texttt{.csv} files obtained in the previous step are to be organised in such a way that the data is accessible in ways which makes sense given the steps which are to be performed in the data analysis part. As the project advances, the decisions regarding the formatting of the data are thus revisited in an iterative process.}

	\item{\large{Data cleaning:} \normalsize Q-Q plots and box plots are used to give an impression of the variables' distribution, obtain a numerical summary of them, and to identify outliers which might be due to measuring or data storage errors. For this, the distribution as shown in the box plots is used as an indicator for what can be assumed a realistic data range, and outliers to this range are scrutinised for their likelihood to be erroneous values. Depending on the variable, this can be done by looking at the values recorded shortly before and after, or by cross-comparing the outliers by looking at their relative similarity as well as at the values of the other variables recorded at the same time amongst similar outliers. In some cases, it might also be possible do determine realistic data ranges based on secondary information.}

\end{enumerate}

\subsection*{Data exploration}

<<<<<<< HEAD
The aim of this step is to identify different modes of functioning of the rover, meaning cases in which its battery lifetime expires exceedingly fast, cases in which its use of the battery charge is very sustainable, and cases in which the potential for powering the battery exceeds the battery's storage capacity. 
=======
Different analytical tools are to be used in order to gain a picture which is as consistent as possible with what is actually influencing the rover's battery lifetime.
>>>>>>> 66abcbcfc946957ce79cc0d5f049d967e6526ae8

\begin{enumerate}

	\item{\large{Scatter plots:} \normalsize The variables describing the rover's battery status are plotted against the variables on its activity and the weather. The aim of this step is to draw a picture of the rover's battery status depending on its activity and the weather situation. Since the present problem is multivariate, this will result in numerous scatter plots, which each have a limited explanatory power on their own, since many of the variables describe a similar concept and are thus likely to act as confounding factors in a bivariate regression analysis. However, the scatter plots should be useful to gain a first impression of how the variables relate to each other.}

	\item{\large{Correlation analysis:} \normalsize The variables describing the weather situation and the rover's activity are taken as explanatory variables and the variables describing the rover's battery status as the dependent variables in a correlation analysis. The aim of this analysis is to have a first impression of possible patterns regarding the rover's battery status depending on weather and activity, and to identify the independent variables which have the strongest influence on the rover's battery status.}

\end{enumerate}

\subsection*{Statistical model}

The aim of this step is to optimise the rover's activity scheme, by adjusting its activity given the current weather in such a way that the battery lifetime is maximised. Since the charging rate of the rover's battery depends solely on external factors, the rover's battery lifetime can only be influenced through the uncharging rate. Based on the current charging rate, an optimal uncharging rate is thus to be calculated. The uncharging rate depends on the rover's activity, meaning its acceleration on the x, y and z axis. Therefore, based on the current battery uncharging rate relative to its charging rate, and the battery uncharging rate relative to the current acceleration (which can vary depending on the terrain the rover is on etc.), the acceleration should be adjusted such that the expected battery lifetime corresponds to the desired value. For this, it is necessary to know the likelihood that the battery lifetime is of a specific value, given the weather and the rover's activity. A probability estimation model is thus needed of which the output can then be used as the input to an optimising strategy for managing the rover's activity. 

\end{document}
